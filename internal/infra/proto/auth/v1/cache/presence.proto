syntax = "proto3";

package auth.v1.cache;

option go_package = "erp.localhost/internal/infra/model/auth/v1/cache;authcache";

import "google/protobuf/timestamp.proto";
import "tagger/tagger.proto";

// =============================================================================
// Redis Cache Models (for user presence tracking)
// =============================================================================

// ActiveUser represents an active user in the system
// Stored in: active_users:{tenant_id} (Redis Set)
// Also in: online_users (Redis Sorted Set, score = last_activity timestamp)
message ActiveUser {
  string user_id = 1 [(tagger.tags) = "json:\"user_id\""];
  string tenant_id = 2 [(tagger.tags) = "json:\"tenant_id\""];
  string session_id = 3 [(tagger.tags) = "json:\"session_id\""];
  google.protobuf.Timestamp last_activity = 4 [(tagger.tags) = "json:\"last_activity\""];
  string status = 5 [(tagger.tags) = "json:\"status\""];
}
